# Lines configured by zsh-newuser-install
HISTFILE=~/.histfile
HISTSIZE=2048
SAVEHIST=1000
unsetopt beep
bindkey -e
# End of lines configured by zsh-newuser-install
# The following lines were added by compinstall
zstyle :compinstall filename '/home/qwattash/.zshrc'

autoload -Uz compinit
compinit
# End of lines added by compinstall

CONF_BASE=~/git/config/

# load colors
autoload -U colors
colors

# custom vars
User=$(whoami)
Host=$(uname -n)
Kernel=$(uname -r)
Cpu=$(cat /proc/cpuinfo | grep "model name" | uniq | cut -d':' -f2)
Arch=$(uname -m)

# Mem statistics
MemTot=$(cat /proc/meminfo | grep "MemTotal" | cut -d":" -f2 | sed -r "s/[ \t]+([0-9]+) ?kB/\1/")
MemAvail=$(cat /proc/meminfo | grep "MemAvail" | cut -d":" -f2 | sed -r "s/[ \t]+([0-9]+) ?kB/\1/")
MemUsed=$((${MemTot} - ${MemAvail}))
MemPercent=$((${MemUsed} * 100 / ${MemTot}))

# Fs statistics
FsRootTot=$(df -h | grep "/$" | sed -n "s/ \+/ /gp" | cut -d" " -f4)
FsRootUsed=$(df -h | grep "/$" | sed -n "s/ \+/ /gp" | cut -d" " -f3)
FsRootPercent=$(df -h | grep "/$" | sed -n "s/ \+/ /gp" | cut -d" " -f5)
FsHomeTot=$(df -h | grep "/home$" | sed -n "s/ \+/ /gp" | cut -d" " -f4)
FsHomeUsed=$(df -h | grep "/home$" | sed -n "s/ \+/ /gp" | cut -d" " -f3)
FsHomePercent=$(df -h | grep "/home$" | sed -n "s/ \+/ /gp" | cut -d" " -f5)

# Process statistics
ProcNo=$(pidstat | wc -l)

# battery
# percent value
BatPerc=$(acpi | sed "s/,//g" | cut -d " " -f4 | sed "s/%//g")
# charging / discharging
BatSt=$(acpi | sed "s/,//g" | cut -d " " -f3)
# remaining time
BatEst=$(acpi | sed "s/,//g" | cut -d " " -f5)

# color of battery status
if [[ "${BatSt}" == "Discharging" ]]; then 
    BatSCol=${LRed}
else 
    BatSCol=${LGreen}
fi
# color of battery level
if [[ "${BatPerc}" -lt "30" ]]; then
    BatLCol=${LRed}
else
    BatLCol=${LGreen}
fi

RPROMPT=""
PROMPT="[%{$fg[blue]%}${User}%{$reset_color%}@%{$fg[blue]%}${Host}%{$reset_color%} %{$fg[green]%]%~%{$reset_color%}]%# "
